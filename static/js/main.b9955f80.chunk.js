(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{46:function(e,t,n){"use strict";n.r(t);var r,a,o,c,i=n(14),s=n(5),d=n(30),u=n.n(d),l=n(15),p=n.n(l),b=n(24),j=n(19),f=n(60),h=n(62),x=n(63),O=n(7),m=Object(f.a)(r||(r=Object(i.a)(["\n  query getTodos {\n    todos {\n      done\n      id\n      text\n    }\n  }\n"]))),g=Object(f.a)(a||(a=Object(i.a)(["\n  mutation toggleTodo($id: uuid!, $done: Boolean!) {\n    update_todos(where: {id: {_eq: $id }}, _set: {done: $done}) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]))),v=Object(f.a)(o||(o=Object(i.a)(["\n  mutation addTodo($text: String!) {\n    insert_todos(objects: {text: $text}) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]))),y=Object(f.a)(c||(c=Object(i.a)(["\n  mutation deleteTodo($id: uuid!) {\n    delete_todos(where: {id: {_eq: $id}}) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"])));var w,k=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(h.a)(m),o=a.data,c=a.loading,i=a.error,d=Object(x.a)(g),u=Object(j.a)(d,1)[0],l=Object(x.a)(v,{onCompleted:function(){return r("")}}),f=Object(j.a)(l,1)[0],w=Object(x.a)(y),k=Object(j.a)(w,1)[0];function q(){return(q=Object(b.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.done,e.next=3,u({variables:{id:n,done:!r}});case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f({variables:{text:n},refetchQueries:[{query:m}]});case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(b.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,!window.confirm("Do you want to delete this todo?")){e.next=7;break}return e.next=5,k({variables:{id:n},update:function(e){var t=e.readQuery({query:m}).todos.filter((function(e){return e.id!==n}));e.writeQuery({query:m,data:{todos:t}})}});case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c?Object(O.jsx)("div",{children:"Loading..."}):i?Object(O.jsx)("div",{children:"Error Occured!"}):Object(O.jsxs)("div",{className:"App vh-100 sans-serif flex flex-column items-center bg-mid-gray white pa3 fl-1",children:[Object(O.jsxs)("h1",{children:["Todo App"," ",Object(O.jsx)("span",{role:"img","aria-label":"checkmark",children:"\ud83d\udcdd"})]}),Object(O.jsxs)("form",{className:"mb3 flex",onSubmit:function(e){return N.apply(this,arguments)},children:[Object(O.jsx)("input",{type:"text",placeholder:"add a todo",className:"pa2 f4",onChange:function(e){return r(e.target.value)},value:n}),Object(O.jsx)("button",{type:"submit",className:"pa2 ml2 f4 bg-navy white pointer",children:"Create"})]}),Object(O.jsx)("div",{className:"flex flex-column items-center justify-center",children:o.todos.map((function(e){return Object(O.jsxs)("p",{onClick:function(){return function(e){return q.apply(this,arguments)}(e)},children:[Object(O.jsx)("span",{className:"pointer list pa1 white f3 ".concat(e.done&&"strike"),children:e.text}),Object(O.jsx)("button",{className:"bg-transparent bn f4 pointer",onClick:function(){return function(e){return $.apply(this,arguments)}(e)},children:Object(O.jsx)("span",{className:"red",children:" \xd7 "})})]},e.id)}))})]})},q=n(59),N=n(61),$=n(58),T=new q.a({uri:"https://react-todo-graphql-argon.herokuapp.com/v1/graphql",cache:new N.a});T.query({query:Object(f.a)(w||(w=Object(i.a)(["\n    query getTodos {\n      todos {\n        done\n        id\n        text\n      }\n    }\n    "])))}).then((function(e){return console.log(e)})),u.a.render(Object(O.jsx)($.a,{client:T,children:Object(O.jsx)(k,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.b9955f80.chunk.js.map